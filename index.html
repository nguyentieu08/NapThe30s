<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TCP Bot Free Fire - Root Access & API Bridge</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Rajdhani:wght@600;700&display=swap');

        :root {
            --neon-blue: #00f3ff;
            --neon-green: #39ff14;
            --root-red: #ff003c;
        }

        body {
            font-family: 'Rajdhani', sans-serif;
            background-color: #050505;
            color: #fff;
            height: 100vh;
            overflow: hidden;
        }

        .root-terminal {
            font-family: 'JetBrains Mono', monospace;
            background: rgba(0, 0, 0, 0.9);
            border: 1px solid #1a1a1a;
            box-shadow: inset 0 0 20px rgba(0, 243, 255, 0.05);
        }

        .glow-cyan { box-shadow: 0 0 15px rgba(0, 243, 255, 0.3); }
        .border-neon { border-color: var(--neon-blue); }

        /* Hiệu ứng loading thực thi API */
        .executing::after {
            content: "";
            position: absolute;
            bottom: 0; left: 0;
            height: 2px;
            background: var(--neon-blue);
            animation: progress 2s linear forwards;
        }

        @keyframes progress {
            0% { width: 0; }
            100% { width: 100%; }
        }

        .matrix-bg {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1;
            opacity: 0.1;
            background: linear-gradient(rgba(0,0,0,0.9), rgba(0,0,0,0.9)), 
                        url('https://www.transparenttextures.com/patterns/carbon-fibre.png');
        }

        .cmd-line:focus { outline: none; }
    </style>
</head>
<body>
    <div class="matrix-bg"></div>

    <!-- MÀN HÌNH KHỞI TẠO ROOT -->
    <div id="auth-panel" class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black">
        <div class="w-full max-w-lg p-8 root-terminal border-t-2 border-neon glow-cyan">
            <h1 class="text-3xl font-bold text-center text-cyan-400 mb-6 italic tracking-tighter">
                <i class="fas fa-skull-crossbones mr-2"></i> ROOT ACCESS REQUIRED
            </h1>
            
            <div class="space-y-4">
                <div class="bg-gray-900 p-4 rounded border border-gray-800">
                    <p class="text-[10px] text-gray-500 mb-2 uppercase">Path: /data/user/0/com.dts.freefireth/shared_prefs/</p>
                    <div class="space-y-3">
                        <input type="text" id="guest_uid" placeholder="com.garena.msdk.guest_uid" class="w-full bg-black border-b border-gray-700 py-2 text-cyan-500 font-mono text-sm focus:border-cyan-400 outline-none">
                        <input type="password" id="guest_pw" placeholder="com.garena.msdk.guest_password" class="w-full bg-black border-b border-gray-700 py-2 text-cyan-500 font-mono text-sm focus:border-cyan-400 outline-none">
                    </div>
                </div>
                
                <div class="flex items-center gap-2 text-xs text-yellow-600 font-mono">
                    <i class="fas fa-exclamation-triangle"></i>
                    <span>Cần quyền Superuser để sửa đổi file .dat trực tiếp.</span>
                </div>

                <button onclick="requestRoot()" class="w-full bg-cyan-600 hover:bg-cyan-500 text-black font-black py-4 rounded uppercase tracking-widest transition-all">
                    Liên kết Root & API
                </button>
            </div>
        </div>
    </div>

    <!-- GIAO DIỆN ĐIỀU KHIỂN CHÍNH -->
    <div id="main-ui" class="hidden h-screen flex flex-col p-4 opacity-0 transition-opacity duration-1000">
        <header class="flex justify-between items-center mb-4 p-4 root-terminal border-l-4 border-cyan-500">
            <div class="flex items-center gap-4">
                <i class="fas fa-microchip text-2xl text-cyan-500 animate-pulse"></i>
                <div>
                    <h2 class="text-xl font-bold">TCP BOT ENGINE <span class="text-[10px] bg-cyan-900 px-2 py-0.5 rounded ml-2">ROOT-LINKED</span></h2>
                    <p class="text-[10px] text-green-500 font-mono" id="root-status">Checking API hooks...</p>
                </div>
            </div>
            <div class="text-right font-mono">
                <p class="text-[10px] text-gray-500">HOOKED_UID</p>
                <p id="active-uid" class="text-cyan-400 text-sm">--</p>
            </div>
        </header>

        <div class="flex-1 grid grid-cols-1 md:grid-cols-4 gap-4 overflow-hidden">
            <!-- Terminal Output -->
            <div class="md:col-span-3 root-terminal flex flex-col rounded overflow-hidden relative">
                <div id="terminal-log" class="flex-1 p-4 overflow-y-auto text-sm space-y-1 font-mono">
                    <p class="text-gray-600 italic"># Initialize TCP_Bridge...</p>
                </div>
                
                <div class="p-4 bg-black/80 border-t border-gray-800 flex gap-3">
                    <span class="text-green-500 font-bold">root@ff_bot:~#</span>
                    <input type="text" id="input-cmd" class="flex-1 bg-transparent border-none outline-none text-cyan-400 cmd-line" placeholder="Nhập lệnh..." autocomplete="off">
                </div>
            </div>

            <!-- Side Actions -->
            <div class="md:col-span-1 space-y-4">
                <div class="root-terminal p-4 rounded">
                    <h3 class="text-xs font-bold text-gray-500 mb-3 uppercase tracking-widest">Phím tắt nhanh</h3>
                    <div class="grid grid-cols-1 gap-2">
                        <button onclick="sendQuick('/help')" class="text-left p-2 hover:bg-cyan-900/20 text-xs border border-gray-900 rounded">/help - Xem lệnh</button>
                        <button onclick="sendQuick('/join')" class="text-left p-2 hover:bg-cyan-900/20 text-xs border border-gray-900 rounded">/join - Vào nhóm</button>
                        <button onclick="sendQuick('/evos')" class="text-left p-2 hover:bg-pink-900/20 text-xs border border-gray-900 rounded text-pink-500">/evos - Full Emote</button>
                        <button onclick="sendQuick('/evose')" class="text-left p-2 hover:bg-red-900/20 text-xs border border-gray-900 rounded text-red-500">/evose - Dừng ngay</button>
                    </div>
                </div>

                <div class="root-terminal p-4 rounded">
                    <h3 class="text-xs font-bold text-gray-500 mb-3 uppercase tracking-widest">Dữ liệu API</h3>
                    <div class="space-y-1 text-[10px] font-mono">
                        <p>Packet Injector: <span class="text-green-500">ON</span></p>
                        <p>Data Path: <span class="text-blue-500">/data/user/0/...</span></p>
                        <p>Bypass Integrity: <span class="text-yellow-600">Active</span></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const log = document.getElementById('terminal-log');
        const cmdInput = document.getElementById('input-cmd');
        let evoLoop = null;

        function addLog(msg, type = 'info') {
            const p = document.createElement('p');
            const time = new Date().toLocaleTimeString();
            let color = 'text-gray-300';
            let prefix = '[INFO]';

            if (type === 'cmd') { color = 'text-yellow-500'; prefix = '>>'; }
            if (type === 'root') { color = 'text-red-500 font-bold'; prefix = '[ROOT]'; }
            if (type === 'api') { color = 'text-cyan-400'; prefix = '[API]'; }
            if (type === 'success') { color = 'text-green-500'; prefix = '[OK]'; }

            p.className = `${color} leading-relaxed`;
            p.innerHTML = `<span class="text-gray-600 text-[10px] mr-2">${time}</span><span class="mr-2">${prefix}</span>${msg}`;
            log.appendChild(p);
            log.scrollTop = log.scrollHeight;
        }

        async function requestRoot() {
            const uid = document.getElementById('guest_uid').value;
            const pw = document.getElementById('guest_pw').value;

            if (!uid || !pw) {
                alert("Cần nhập đủ UID và Password để liên kết API!");
                return;
            }

            const btn = event.target;
            btn.innerHTML = `<i class="fas fa-spinner fa-spin mr-2"></i> Đang yêu cầu Root...`;
            btn.disabled = true;

            // Giả lập quá trình đọc file root
            setTimeout(() => {
                document.getElementById('auth-panel').classList.add('hidden');
                document.getElementById('main-ui').classList.remove('hidden');
                setTimeout(() => { document.getElementById('main-ui').style.opacity = '1'; }, 100);
                
                document.getElementById('active-uid').innerText = uid;
                document.getElementById('root-status').innerText = "API Hooked: v2.5.4 Secure";

                addLog(`Liên kết thành công với com.garena.msdk.guest_uid: ${uid}`, 'root');
                addLog(`Tìm thấy file guest100067.dat tại thư mục root.`, 'success');
                addLog(`Bắt đầu lắng nghe gói tin TCP từ Game API...`, 'api');
            }, 2000);
        }

        function sendQuick(cmd) {
            cmdInput.value = cmd;
            handleCommand();
        }

        cmdInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') handleCommand();
        });

        function handleCommand() {
            const input = cmdInput.value.trim();
            if (!input) return;

            addLog(input, 'cmd');
            cmdInput.value = '';

            const args = input.split(' ');
            const cmd = args[0].toLowerCase();

            // Xử lý logic API giả lập
            setTimeout(() => {
                switch(cmd) {
                    case '/help':
                        addLog('Hệ thống lệnh TCP Bot:', 'api');
                        addLog('---', 'info');
                        addLog('/join : Inject gói tin vào nhóm hiện tại.', 'info');
                        addLog('/evo [uid] [act] : Gửi mã hành động súng tới server.', 'info');
                        addLog('/evos [uid] : Vòng lặp hành động toàn nhóm.', 'info');
                        addLog('/evose : Kill process vòng lặp hành động.', 'info');
                        break;

                    case '/join':
                        addLog('Đang quét bộ nhớ game để tìm GroupID...', 'info');
                        addLog('Đã tìm thấy API Hook. Bot đã vào nhóm.', 'success');
                        break;

                    case '/evo':
                        const target = args[1] || 'Self';
                        const id = args[2] || '1';
                        addLog(`Gửi Packet: Action_Emote_Evo_${id} -> UID: ${target}`, 'api');
                        addLog(`Thực thi API: Success`, 'success');
                        break;

                    case '/evos':
                        addLog('BẮT ĐẦU CHUỖI EVOS TRÊN TOÀN BỘ NHÓM', 'root');
                        let step = 1;
                        if(evoLoop) clearInterval(evoLoop);
                        evoLoop = setInterval(() => {
                            if(step > 7) {
                                addLog('Chuỗi hành động hoàn tất.', 'success');
                                clearInterval(evoLoop);
                                return;
                            }
                            addLog(`Injecting Emote_Packet_0${step} tới API Server...`, 'api');
                            step++;
                        }, 1200);
                        break;

                    case '/evose':
                        if(evoLoop) {
                            clearInterval(evoLoop);
                            addLog('DỪNG HÀNH ĐỘNG: Đã ngắt luồng thực thi API.', 'root');
                        }
                        break;

                    default:
                        addLog('Lệnh không xác định trên hệ thống root.', 'root');
                }
            }, 500);
        }
    </script>
</body>
</html>

